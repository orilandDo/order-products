<div class="container bg-white">
  <h2 class="header">Thêm mới đơn hàng</h2>
  <div class="row created-date">
    <span>Ngày tạo đơn: </span>
    <span>{{createdDate}}</span>
  </div>
  <mat-dialog-content class="form-create shadow-md rounded px-8 pt-6 pb-8">
    <div class="mb-3 row field p-top">
      <span class="col-4 text-label" for="deliveryAddress">
        Nơi nhận
        <label class="require">*</label>
      </span>
      <mat-form-field appearance="fill"
        class="col-8 appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
        <mat-label>Tỉnh/Thành phố</mat-label>
        <mat-select [formControl]="deliveryCityControl" required>
          <mat-option>--</mat-option>
          <mat-option *ngFor="let item of cities" [value]="item.value">
            {{item.label}}
          </mat-option>
        </mat-select>
        <!-- <mat-error *ngIf="deliveryCityControl.hasError('required')">Please choose a city</mat-error> -->
        <!-- <mat-hint>{{deliveryCityControl.value?.label}}</mat-hint> -->
      </mat-form-field>
    </div>
    <div class="mb-3 row field">
      <span class="col-4 text-label" for="pickupAddress">
        Nơi giao
        <label class="require">*</label>
      </span>
      <mat-form-field appearance="fill" class="col-8 border rounded">
        <mat-label>Tỉnh/Thành phố</mat-label>
        <mat-select [formControl]="pickupCityControl" required>
          <mat-option>--</mat-option>
          <mat-option *ngFor="let item of cities" [value]="item.value">
            {{item.label}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="pickupCityControl.hasError('required')">Please choose a city</mat-error>
        <!-- <mat-hint>{{pickupCityControl.value?.label}}</mat-hint> -->
      </mat-form-field>
    </div>
    <div class="mb-3 row field">
      <span class="col-4 text-label" for="pickupAddress">
        Sản phẩm
        <label class="require">*</label>
      </span>
      <mat-form-field appearance="fill" class="col-8 border rounded">
        <mat-label>Chọn sản phẩm</mat-label>
        <mat-select [formControl]="productControl" required>
          <mat-option>--</mat-option>
          <mat-option *ngFor="let item of products" [value]="item.id">
            {{item.productName}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="productControl.hasError('required')">Please choose a product</mat-error>
      </mat-form-field>
    </div>
    <div class="mb-3 row field">
      <span class="col-4 text-label" for="productTotal">
        Tổng số lượng
        <label class="require">*</label>
      </span>
      <input matInput [disabled]="true"
        class="col-4 appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="productTotal" type="number" placeholder="(đơn vị tính theo tấn)" max=99999 [(ngModel)]="order.productTotal"
        [ngModelOptions]="{standalone: true}" [errorStateMatcher]="matcher" />
      <span class="col-4 text-label">(tấn)</span>
    </div>
    <div class="mb-3 row field">
      <span class="col-4 text-label" for="stranport">
        Phương tiện vận chuyển
        <label class="require">*</label>
      </span>
      <mat-form-field appearance="fill" class="col-8 border rounded">
        <mat-label>Chọn phương tiện</mat-label>
        <mat-select [formControl]="transportControl" required>
          <mat-option>--</mat-option>
          <mat-option *ngFor="let item of transport" [value]="item.value">
            {{item.label}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="transportControl.hasError('required')">Please choose a transport</mat-error>
      </mat-form-field>
    </div>
    <div class="mb-3 row field">
      <span class="col-4 text-label" for="licensePlates">
        Số phương tiện
        <label class="require">*</label>
      </span>
      <input matInput
        class="col-4 appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="licensePlates" type="text" placeholder="KG1234" maxlength=50 [(ngModel)]="order.licensePlates"
        [ngModelOptions]="{standalone: true}" [errorStateMatcher]="matcher" />
    </div>
    <div class="mb-3 row field">
      <span class="col-4 text-label" for="driver">
        Tên tài xế
        <label class="require">*</label>
      </span>
      <input matInput
        class="col-8 appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="driver" type="text" placeholder="Nguyen Van A" maxlength="50" [(ngModel)]="order.driver"
        [ngModelOptions]="{standalone: true}" [errorStateMatcher]="matcher" />
    </div>
    <div class="mb-3 row field">
      <span class="col-4 text-label" for="receivedDate">
        Ngày nhận
        <label class="require">*</label>
      </span>
      <mat-form-field appearance="fill" class="col-4 border rounded">
        <mat-label>Chọn ngày nhận</mat-label>
        <input matInput [matDatepicker]="picker">
        <!-- <mat-hint>DD/MM/YYYY</mat-hint> -->
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
    <div class="mb-6 row field">
      <span class="col-4 text-label" for="note">
        Ghi chú
      </span>
      <textarea
        class="col-8 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="note" type="text" placeholder="" maxlength="1000" [(ngModel)]="order.note"
        [ngModelOptions]="{standalone: true}"></textarea>
    </div>
    <div class="btn-container">
      <button class="btn-cancel py-2 px-4 rounded focus:outline-none focus:shadow-outline">Hủy bỏ</button>
      <button class="btn-order py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button"
        (click)="onSubmit()">
        Đặt hàng
      </button>
    </div>
    <div *ngIf="error || (error !== null && error.length > 0)" class="notification">
      <span>error</span>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button mat-dialog-close>Hủy bỏ</button>
    <button mat-button [mat-dialog-close]="true">Đặt hàng</button>
  </mat-dialog-actions>
</div>